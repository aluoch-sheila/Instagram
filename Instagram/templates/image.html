{% extends 'base.html' %}
{% load bootstrap4 %}

{% block content %}
<div>
    <div>
        <div>
            <div>
                <p>
                    <a href="{% url 'profile' username=image.profile.username %}">{{image.profile.username}}</a>
                </p>
                <img src="{{image.image_pic.url}}" alt="Image">
                <ul>
                    <li>
                        <i class="fa fa-heart-o fa-2x" aria-hidden="true"></i>
                    </li>
                </ul>
                <ul>
                    <li >
                        <a href="{% url 'profile' username=image.profile.username %}">{{image.profile.username}}</a>
                    </li>
                    <li>
                        <p>{{image.image_caption}} </p>
                    </li>
                </ul>
                <p> {{comments|length}} comments </p>
                <hr>
                <p>Comments</p>
                <div>
                    {% for comment in comments %}
                    <div>
                        <div>
                            <ul>
                                <li>
                                    <a href="{% url 'profile' username=comment.user.username %}">{{comment.user.username}}</a>
                                </li>
                                <li>
                                    <p>{{comment.comment}} </p>
                                </li>
                            </ul>
                        </div>
                    </div>
                    {% empty %}
                    <div>
                        <div>
                            <h3>There are no comments</h3>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <form action="{% url 'single_image' image_id=image.id %}" method="POST">
                    {% csrf_token %}
                    {% bootstrap_form form %}
                    <input type="submit" class="btn btn-success" value="Update">
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}